const fs = require('fs');
const path = require('path');

// Paths to partner image folders
const homeSliderFolder = path.join(__dirname, '../src/assets/images/Partners White Text Without Background');
const partnersPageFolder = path.join(__dirname, '../src/assets/images/Amyal PNG Partners');
const outputFile = path.join(__dirname, '../src/app/constants/partner-images.constant.ts');

// Function to get all image files from a folder
function getImageFiles(folderPath) {
  if (!fs.existsSync(folderPath)) {
    console.warn(`Warning: Folder does not exist: ${folderPath}`);
    return [];
  }
  
  const files = fs.readdirSync(folderPath);
  return files
    .filter(file => /\.(png|jpg|jpeg|gif|webp|svg)$/i.test(file))
    .map(file => `assets/images/${path.basename(folderPath)}/${file}`)
    .sort();
}

// Get images from both folders
const homeSliderImages = getImageFiles(homeSliderFolder);
const partnersPageImages = getImageFiles(partnersPageFolder);

// Generate the TypeScript constant file
const fileContent = `// Partner images for home slider and partners page
// This file is AUTO-GENERATED by scripts/generate-partner-images.js
// Run: npm run generate:partners (or node scripts/generate-partner-images.js)
// DO NOT edit this file manually - add/remove images in the folders instead

export const PARTNER_IMAGES = {
  // Home page partners slider (white text versions)
  homeSlider: [
${homeSliderImages.map(img => `    '${img}'`).join(',\n')}
  ],

  // Partners page (colored PNG versions)
  partnersPage: [
${partnersPageImages.map(img => `    '${img}'`).join(',\n')}
  ]
};
`;

// Write the file
fs.writeFileSync(outputFile, fileContent, 'utf8');

console.log('âœ… Partner images constant file generated successfully!');
console.log(`ğŸ“ Home slider: ${homeSliderImages.length} images`);
console.log(`ğŸ“ Partners page: ${partnersPageImages.length} images`);
console.log(`ğŸ“ Output: ${outputFile}`);
