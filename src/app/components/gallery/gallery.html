<!-- Gallery Page -->
<section class="gallery-page" [class.content-loaded]="isLoaded()">
  <div class="container">
    <!-- Gallery Header -->
    <div class="gallery-header">
      <h1 class="gallery-title gradient-text-animated fade-title fade-in-up" [class.fade-out]="titleFadeState() === 'fade-out'" [class.fade-in]="titleFadeState() === 'fade-in'" [class.visible]="titleFadeState() === 'visible'">
        {{ langService.t('gallery.title') }}
      </h1>
      <p class="gallery-description fade-in-up">
        {{ langService.t('gallery.description') }}
      </p>
    </div>

    <!-- Gallery Grid - Bootstrap row/col -->
    <div class="row g-4">
      <!-- Dynamically generate gallery items from service images -->
      @for (image of galleryImages; track image; let i = $index) {
        <div class="col-12 col-sm-6 col-lg-4">
        <div
          class="gallery-item fade-in-up"
          (click)="openImage(image)">
          <div class="gallery-image-wrapper">
            <img [src]="image" [alt]="langService.t('nav.gallery') + ' ' + (i + 1)" class="gallery-image">
            <div class="galaxy-overlay"></div>
            <div class="gallery-overlay">
              <div class="gallery-info">
                <h3 class="gallery-item-title">{{ toLocalNumeral(i + 1) }}</h3>
                <p class="gallery-item-category">{{ langService.t('nav.gallery') }}</p>
              </div>
            </div>
          </div>
        </div>
        </div>
      }
    </div>

  </div>
</section>

<!-- Lightbox Modal -->
@if (isLightboxOpen()) {
  <div class="lightbox-overlay" (click)="closeLightbox()">
    <div class="lightbox-container" (click)="$event.stopPropagation()">
      <button class="lightbox-close" (click)="closeLightbox()" aria-label="Close lightbox">
        <i class="fas fa-times"></i>
      </button>
      <button class="lightbox-nav lightbox-prev" (click)="prevImage()" aria-label="Previous image">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button class="lightbox-nav lightbox-next" (click)="nextImage()" aria-label="Next image">
        <i class="fas fa-chevron-right"></i>
      </button>
      <div class="lightbox-image-wrapper">
        <img [src]="getCurrentImage()" alt="Gallery Image" class="lightbox-image">
      </div>
      <div class="lightbox-counter">
        {{ toLocalNumeral(currentImageIndex() + 1) }} / {{ toLocalNumeral(galleryImages.length) }}
      </div>
    </div>
  </div>
}
