<!-- Gallery Page -->
<section class="gallery-page">
  <div class="container">
    <!-- Gallery Header -->
    <div class="gallery-header scroll-reveal">
      <h1 class="gallery-title gradient-text-animated fade-title fade-in-up" [class.fade-out]="titleFadeState() === 'fade-out'" [class.fade-in]="titleFadeState() === 'fade-in'" [class.visible]="titleFadeState() === 'visible'">
        {{ langService.t('gallery.title') }}
      </h1>
      <p class="gallery-description fade-in-up">
        {{ langService.t('gallery.description') }}
      </p>
    </div>

    <!-- Gallery Grid -->
    <div class="gallery-grid">
      <!-- Dynamically generate gallery items from service images -->
      @for (image of galleryImages; track image; let i = $index) {
        <div
          class="gallery-item fade-in-up scroll-reveal"
          [class.large-horizontal]="i % 7 === 0"
          [class.vertical]="i % 7 === 1 || i % 7 === 2"
          [class.medium-horizontal]="i % 7 === 3 || i % 7 === 4"
          [class.medium-vertical]="i % 7 === 5 || i % 7 === 6"
          (click)="openImage(image)">
          <div class="gallery-image-wrapper">
            <img [src]="image" [alt]="'Gallery Image ' + (i + 1)" class="gallery-image">
            <div class="galaxy-overlay"></div>
            <div class="gallery-overlay">
              <div class="gallery-info">
                <h3 class="gallery-item-title">Image {{ i + 1 }}</h3>
                <p class="gallery-item-category">Gallery</p>
              </div>
            </div>
          </div>
        </div>
      }

    </div>
  </div>

  <!-- Lightbox Modal -->
  @if (isLightboxOpen()) {
    <div class="lightbox-overlay" (click)="closeLightbox()">
      <div class="lightbox-container" (click)="$event.stopPropagation()">
        <button class="lightbox-close" (click)="closeLightbox()" aria-label="Close lightbox">
          <i class="fas fa-times"></i>
        </button>
        <button class="lightbox-nav lightbox-prev" (click)="prevImage()" aria-label="Previous image">
          <i class="fas fa-chevron-left"></i>
        </button>
        <button class="lightbox-nav lightbox-next" (click)="nextImage()" aria-label="Next image">
          <i class="fas fa-chevron-right"></i>
        </button>
        <div class="lightbox-image-wrapper">
          <img [src]="getCurrentImage()" alt="Gallery Image" class="lightbox-image">
        </div>
        <div class="lightbox-counter">
          {{ currentImageIndex() + 1 }} / {{ galleryImages.length }}
        </div>
      </div>
    </div>
  }
</section>
