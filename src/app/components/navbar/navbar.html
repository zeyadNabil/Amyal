<nav class="navbar navbar-expand-lg navbar-dark" id="mainNav" [class.scrolled]="isScrolled()">
  <div class="container-fluid">
    <!-- Logo -->
    <a class="navbar-brand" routerLink="/" (click)="handleNavClick('home')" role="button">
      <img src="assets/images/logo.png" alt="Amyal" class="navbar-logo">
    </a>

    <!-- Mobile Toggle -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar Content -->
    <div class="collapse navbar-collapse" id="navbarContent">
      <!-- Main Menu -->
      <ul class="navbar-nav m-auto">
        <!-- Home -->
        <li class="nav-item">
          <a class="nav-link"
             routerLink="/"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: true}"
             (click)="handleNavClick('home')"
             role="button">
            {{ langService.t('nav.home') }}
          </a>
        </li>

        <!-- Products & Services Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle"
             [class.active]="isServicesDropdownActive()"
             (click)="toggleDropdown(); $event.stopPropagation()"
             role="button"
             [attr.aria-expanded]="isDropdownOpen()">
            {{ langService.t('nav.productsServices') }}
            <svg class="dropdown-arrow"
                 [class.rotated]="isDropdownOpen()"
                 width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 4.5L6 7.5L9 4.5"></path>
            </svg>
          </a>
          <ul class="dropdown-menu" [class.show]="isDropdownOpen()">
            <li>
              <a class="dropdown-item"
                 [class.active]="isServiceActive('exhibition-stand')"
                 routerLink="/services/exhibition-stand"
                 routerLinkActive="active"
                 (click)="handleNavClick()">
                {{ langService.t('nav.exhibitionStand') }}
              </a>
            </li>
            <li>
              <a class="dropdown-item"
                 [class.active]="isServiceActive('exhibition-booth-design')"
                 routerLink="/services/exhibition-booth-design"
                 routerLinkActive="active"
                 (click)="handleNavClick()">
                {{ langService.t('nav.exhibitionBoothDesign') }}
              </a>
            </li>
            <li>
              <a class="dropdown-item"
                 [class.active]="isServiceActive('display-units-mall-kiosk')"
                 routerLink="/services/display-units-mall-kiosk"
                 routerLinkActive="active"
                 (click)="handleNavClick()">
                {{ langService.t('nav.displayUnitsMallKiosk') }}
              </a>
            </li>
            <li>
              <a class="dropdown-item"
                 [class.active]="isServiceActive('event-management')"
                 routerLink="/services/event-management"
                 routerLinkActive="active"
                 (click)="handleNavClick()">
                {{ langService.t('nav.eventManagement') }}
              </a>
            </li>
            <li>
              <a class="dropdown-item"
                 [class.active]="isServiceActive('brand-ambassadors-event-hosts')"
                 routerLink="/services/brand-ambassadors-event-hosts"
                 routerLinkActive="active"
                 (click)="handleNavClick()">
                {{ langService.t('nav.brandAmbassadorsEventHosts') }}
              </a>
            </li>
            <li>
              <a class="dropdown-item"
                 [class.active]="isServiceActive('av-service')"
                 routerLink="/services/av-service"
                 routerLinkActive="active"
                 (click)="handleNavClick()">
                {{ langService.t('nav.avService') }}
              </a>
            </li>
            <li>
              <a class="dropdown-item"
                 [class.active]="isServiceActive('vehicle-branding-wrapping')"
                 routerLink="/services/vehicle-branding-wrapping"
                 routerLinkActive="active"
                 (click)="handleNavClick()">
                {{ langService.t('nav.vehicleBrandingWrapping') }}
              </a>
            </li>
            <li>
              <a class="dropdown-item"
                 [class.active]="isServiceActive('stickers-custom-prints')"
                 routerLink="/services/stickers-custom-prints"
                 routerLinkActive="active"
                 (click)="handleNavClick()">
                {{ langService.t('nav.stickersCustomPrints') }}
              </a>
            </li>
            <li>
              <a class="dropdown-item"
                 [class.active]="isServiceActive('fabrication-manufacturing')"
                 routerLink="/services/fabrication-manufacturing"
                 routerLinkActive="active"
                 (click)="handleNavClick()">
                {{ langService.t('nav.fabricationManufacturing') }}
              </a>
            </li>
          </ul>
        </li>

        <!-- Gallery -->
        <li class="nav-item">
          <a class="nav-link"
             routerLink="/gallery"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: false}"
             (click)="handleNavClick()"
             role="button">
            {{ langService.t('nav.gallery') }}
          </a>
        </li>

        <!-- Contact Us -->
        <li class="nav-item">
          <a class="nav-link"
             routerLink="/contact-us"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: false}"
             (click)="handleNavClick()"
             role="button">
            {{ langService.t('nav.contact') }}
          </a>
        </li>

        <!-- About Us -->
        <li class="nav-item">
          <a class="nav-link"
             routerLink="/about-us"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: false}"
             (click)="handleNavClick()"
             role="button">
            {{ langService.t('nav.about') }}
          </a>
        </li>

        <!-- Our Partners -->
        <li class="nav-item">
          <a class="nav-link"
             routerLink="/partners"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: false}"
             (click)="handleNavClick()"
             role="button">
            {{ langService.t('nav.partners') }}
          </a>
        </li>

        <!-- Get Quote -->
        <li class="nav-item">
          <a class="nav-link btn-get-quote"
             routerLink="/contact-us"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: false}"
             (click)="navigateToContact()"
             role="button">
            {{ langService.t('nav.getQuote') }}
          </a>
        </li>
      </ul>

      <!-- Right Menu (Language Toggle) -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <button class="lang-toggle-btn"
                  (click)="toggleLanguage()"
                  aria-label="Toggle Language">
            {{ langService.languageButtonText() }}
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>
