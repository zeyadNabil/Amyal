<!-- Floating Chat Widget -->
<div class="chat-widget-container">
  <!-- Chat Button -->
  <button
    class="chat-widget-button"
    (click)="toggleChat()"
    [class.open]="isOpen()"
    aria-label="Chat with us">
    <img
      src="assets/images/Icons/whatsapp.png"
      alt="WhatsApp"
      class="chat-whatsapp-icon" />
  </button>

  <!-- Chat Panel -->
  <div class="chat-panel" [class.open]="isOpen()">
    <div class="chat-panel-header">
      <h4 class="chat-title">{{ langService.t('nav.contact') }}</h4>
      <button class="chat-close-btn" (click)="closeChat()" aria-label="Close chat">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <div class="chat-panel-content">
      <div class="chat-info">
        <p class="chat-choose-label">{{ langService.t('contact.chooseNumber') || 'Choose a number to message on WhatsApp' }}</p>
        @for (opt of phoneOptions; track opt.id) {
          <button
            type="button"
            class="chat-phone-option"
            [class.selected]="selectedPhone() === opt.id"
            (click)="selectNumber(opt.id)">
            <i class="fas fa-phone"></i>
            <span class="phone-link" dir="ltr">{{ opt.number }}</span>
            <span class="phone-label">({{ langService.t(opt.labelKey) }})</span>
          </button>
        }
        <p class="chat-message">{{ langService.t('contact.text') || 'Get in touch with us' }}</p>
      </div>

      <button
        type="button"
        class="chat-send-btn"
        (click)="sendWhatsAppMessage()">
        <span>{{ langService.t('contact.submit') || 'Send Message' }}</span>
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
  </div>
</div>
