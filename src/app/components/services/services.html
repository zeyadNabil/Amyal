<!-- Service Content -->
@if (isLoaded()) {
  <div class="service-page" [class.content-loaded]="isLoaded()">
    <div class="container">
    <!-- Header Section -->
    <div class="service-header">
      <h1 class="service-title gradient-text-animated fade-title" [class.fade-out]="titleFadeState() === 'fade-out'" [class.fade-in]="titleFadeState() === 'fade-in'" [class.visible]="titleFadeState() === 'visible'">
        {{ langService.t('nav.' + getServiceKey()) || serviceType() }}
      </h1>
      <div class="service-breadcrumb">
        <a routerLink="/" class="breadcrumb-link">{{ langService.t('nav.home') }}</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-current">{{ langService.t('nav.' + getServiceKey()) }}</span>
      </div>
    </div>

    <!-- Video Section for Mall Activation and AV Service -->
    @if (hasVideo()) {
      <div class="service-section service-video-section">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="service-video-wrapper">
                <video class="service-video"
                       [src]="getVideoUrl()"
                       [muted]="true"
                       [volume]="0"
                       autoplay
                       loop
                       muted
                       playsinline
                       disablePictureInPicture
                       controlsList="nodownload nofullscreen noremoteplayback"
                       oncontextmenu="return false;">
                  Your browser does not support the video tag.
                </video>
                <div class="video-overlay"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    }

    <!-- Card Slider Section -->
    @if (!hasVideo() && getServiceImages().length > 0) {
      <div class="service-section service-slider-section">
      <div class="container">
        <div class="card-slider-wrapper">
          <div class="card-slider-container"
               #cardSlider
               (mousedown)="onMouseDown($event)"
               (mousemove)="onMouseMove($event)"
               (mouseup)="onMouseUp($event)"
               (mouseleave)="onMouseUp($event)"
               (touchstart)="onTouchStart($event)"
               (touchmove)="onTouchMove($event)"
               (touchend)="onTouchEnd($event)">
            <div class="card-slider-track"
                 [style.transform]="'translateX(' + sliderOffset() + 'px)'"
                 [style.transition]="isDragging() ? 'none' : 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)'"
                 [style.gap.px]="gapPx()">
              @for (image of getServiceImages(); track image; let i = $index) {
                <div class="card-slider-item" [style.width.px]="cardWidthPx() || 280">
                  <div class="service-card slider-card" [class.brand-ambassadors-card]="serviceType() === 'brand-ambassadors-event-hosts'">
                    <div class="card-image-wrapper" (click)="openImage(image)">
                      <img [src]="image"
                           class="card-slider-image"
                           loading="lazy"
                           [alt]="langService.t('nav.' + getServiceKey()) + ' - Image ' + (i + 1)">
                      <div class="galaxy-overlay"></div>
                    </div>
                  </div>
                </div>
              }
            </div>
          </div>
          <!-- Navigation Arrows -->
          @if (getServiceImages().length > 1) {
            <button class="slider-nav-btn slider-nav-prev"
                    (click)="scrollCards('prev')"
                    [disabled]="!canScrollPrev()">
              <i class="fas fa-chevron-left"></i>
            </button>
          }
          @if (getServiceImages().length > 1) {
            <button class="slider-nav-btn slider-nav-next"
                    (click)="scrollCards('next')"
                    [disabled]="!canScrollNext()">
              <i class="fas fa-chevron-right"></i>
            </button>
          }
        </div>
      </div>
      </div>
    }

    <!-- Overview Section -->
    @if (getOverview() && hasContent()) {
      <div class="service-section">
        <div class="row g-4 align-items-stretch justify-content-center">
          <div class="col-lg-8">
            <div class="service-card overview-card">
              <h2 class="section-title gradient-text-animated">{{ langService.t('services.sections.overview') }}</h2>
              <p class="section-text">{{ getOverview() }}</p>
            </div>
          </div>
        </div>
      </div>
    }

    <!-- Features Section with Icons/Images -->
    @if (getFeatures().length > 0) {
      <div class="service-section">
        <h2 class="section-main-title gradient-text-animated">{{ langService.t('services.sections.features') }}</h2>
        <div class="row g-4">
          @for (feature of getFeatures(); track feature; let i = $index) {
            <div class="col-md-6 col-lg-4">
              <div class="service-card feature-card card-hover animate-card" [style.--i]="i">
                <div class="card-content">
                  <!-- Icon for all services including Sign Board -->
                  <div class="card-icon">
                    <i [class]="'fas ' + getFeatureIcon(i)"></i>
                  </div>
                  <p class="card-text">{{ feature }}</p>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    }

    <!-- What Makes Different Section with Icons -->
    @if (getWhatMakesDifferent().length > 0) {
      <div class="service-section">
        <h2 class="section-main-title gradient-text-animated">{{ langService.t('services.sections.whatMakesDifferent') }}</h2>
        <div class="row g-4">
          @for (item of getWhatMakesDifferent(); track item; let i = $index) {
            <div class="col-md-6 col-lg-4">
              <div class="service-card different-card card-hover animate-card" [style.--i]="i">
                <div class="card-content">
                  <div class="card-icon">
                    <i [class]="'fas ' + getDifferentIcon(i)"></i>
                  </div>
                  <p class="card-text">{{ item }}</p>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    }

    <!-- Benefits Section with Icons -->
    @if (getBenefits().length > 0) {
      <div class="service-section">
        <h2 class="section-main-title gradient-text-animated">{{ langService.t('services.sections.benefits') }}</h2>
        <div class="row g-4">
          @for (benefit of getBenefits(); track benefit; let i = $index) {
            <div class="col-md-6 col-lg-4">
              <div class="service-card benefit-card card-hover animate-card" [style.--i]="i">
                <div class="card-content">
                  <div class="card-icon">
                    <i [class]="'fas ' + getBenefitIcon(i)"></i>
                  </div>
                  <p class="card-text">{{ benefit }}</p>
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    }

    <!-- What We Deliver & Why Choose Side by Side -->
    @if (getWhatWeDeliver().length > 0 || getWhyChoose().length > 0) {
      <div class="service-section">
        <div class="row g-4">
          <!-- What We Deliver -->
          @if (getWhatWeDeliver().length > 0) {
            <div class="col-12 col-lg-6">
              <div class="service-card info-card deliver-card">
                <div class="info-card-header">
                  <div class="info-card-icon">
                    <i class="fas fa-box"></i>
                  </div>
                  <h2 class="section-title gradient-text-animated">{{ langService.t('services.sections.whatWeDeliver') }}</h2>
                </div>
                <ul class="info-list">
                  @for (item of getWhatWeDeliver(); track item) {
                    <li>
                      <span class="list-icon">
                        <i class="fas fa-check-circle"></i>
                      </span>
                      <span>{{ item }}</span>
                    </li>
                  }
                </ul>
              </div>
            </div>
          }

          <!-- Why Choose -->
          @if (getWhyChoose().length > 0) {
            <div class="col-12 col-lg-6">
              <div class="service-card info-card choose-card">
                <div class="info-card-header">
                  <div class="info-card-icon">
                    <i class="fas fa-star"></i>
                  </div>
                  <h2 class="section-title gradient-text-animated">{{ langService.t('services.sections.whyChoose') }}</h2>
                </div>
                <ul class="info-list">
                  @for (item of getWhyChoose(); track item; let i = $index) {
                    <li>
                      <span class="list-icon">
                        <i [class]="'fas ' + getChooseIcon(i)"></i>
                      </span>
                      <span>{{ item }}</span>
                    </li>
                  }
                </ul>
              </div>
            </div>
          }
        </div>
      </div>
    }

    <!-- Closing Text Section -->
    @if (getClosingText() && getClosingText().length > 0 && !getClosingText().startsWith('services.')) {
      <div class="service-section">
        <div class="row">
          <div class="col-lg-10 mx-auto">
            <div class="service-card overview-card closing-card">
              <p class="section-text">{{ getClosingText() }}</p>
            </div>
          </div>
        </div>
      </div>
    }

    <!-- Placeholder if no content -->
    @if (!hasContent()) {
      <div class="service-section">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <div class="service-card overview-card">
              <p class="section-text">Content for {{ getServiceKey() }} will be added here</p>
            </div>
          </div>
        </div>
      </div>
    }
    </div>

  <!-- Slider Lightbox Modal -->
  @if (isSliderLightboxOpen()) {
    <div class="slider-lightbox-overlay" (click)="closeSliderLightbox()">
      <div class="slider-lightbox-container" (click)="$event.stopPropagation()">
        <button class="slider-lightbox-close" (click)="closeSliderLightbox()" aria-label="Close lightbox">
          <i class="fas fa-times"></i>
        </button>
        @if (sliderImagesForLightbox.length > 1) {
          <button class="slider-lightbox-nav slider-lightbox-prev" (click)="prevSliderImage()" aria-label="Previous image">
            <i class="fas fa-chevron-left"></i>
          </button>
        }
        @if (sliderImagesForLightbox.length > 1) {
          <button class="slider-lightbox-nav slider-lightbox-next" (click)="nextSliderImage()" aria-label="Next image">
            <i class="fas fa-chevron-right"></i>
          </button>
        }
        <div class="slider-lightbox-image-wrapper">
          <img [src]="getCurrentSliderImage()" alt="Service Image" class="slider-lightbox-image">
        </div>
        @if (sliderImagesForLightbox.length > 1) {
          <div class="slider-lightbox-counter">
            {{ currentSliderImageIndex() + 1 }} / {{ sliderImagesForLightbox.length }}
          </div>
        }
      </div>
    </div>
  }
  </div>
}
